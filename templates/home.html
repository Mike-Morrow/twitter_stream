<!DOCTYPE html>
<html>

<link rel="stylesheet" href="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
<script src="http://d3js.org/d3.v3.min.js"></script>
<script src="static/d3.layout.cloud.js"></script>
<script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
<script src="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>


  
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

<head>

<style>
#footer{
  background-color: lightgrey;
}
#jumbo_footer {
  background-color: lightgrey;
}

</style>

</head>

<body>

    <div id="mydiv">
    </div>

</body>



<script>



myVar = setInterval(
  function myFunction(){
     $.get("stream", function(data){
        console.log('were loading');
        $("#mydiv").html(data);
        console.log('loaded');
   
    });

$("#welcome").hide();
$("#start_button").hide();
$("#resume_button").show();
$("#stop_button").show();
    // $("#mydiv").load(location.href + " #mydiv");
}, 
  2000 // every 2 seconds
);



function myStopFunction() {
    $("#resume_button").prop('disabled',false);
    clearTimeout(myVar);
}


function reset(){
    location.reload();
}


</script>


<h3 id="welcome">Let's stream some tweets</h3>

<!-- This is hidden -->
<button onclick="myFunction()" id="start_button" style="display:none;">Start ðŸ”‘</button>

<button onclick="reset()" id="resume_button" style="display:none;" disabled>Resume</button>

<button onclick="myStopFunction()" id="stop_button" style="display:none;">Stop ðŸ¦€</button>

<div class="panel-footer" id="footer">
<div class="jumbotron" id="jumbo_footer"> 
<i>Streaming Tweet Emoji Cloud</i> </br>
<a href="http://kt.ijs.si/data/Emoji_sentiment_ranking/" target="_blank">Read more about emoji sentiment analysis here.</a> </div>
</div>


</html>






